{
  "argumentText": "The proof is by induction. Consider a single set $A_1$. Then the\nprinciple of inclusion-exclusion states that $|A_1| = |A_1|$, which is\ntrivially true.\n\nNow consider a collection of exactly two sets $A_1$ and $A_2$. We know\nthat $$A \\cup B = (A \\setminus B) \\cup (B \\setminus A) \\cup (A \\cap B)$$\nFurthermore, the three sets on the right-hand side of that equation must\nbe disjoint. Therefore, by the addition principle, we have\n$$\\begin{aligned}\n|A \\cup B| &=& |A \\setminus B| + |B \\setminus A| + |A \\cap B| \\\\\n&=& |A \\setminus B | + |A \\cap B| + |B \\setminus A| + |A \\cap B| - |A \\cap B| \\\\\n&=& |A| + |B| - |A \\cap B| \\\\\\end{aligned}$$\n\nSo the principle of inclusion-exclusion holds for any two sets.\n\nNow consider a collection of $N > 2$ finite sets $A_1, A_2, \\dots A_N$.\nWe assume that the principle of inclusion-exclusion holds for any\ncollection of $M$ sets where $1 \\leq M < N$. Because the union of sets\nis associative, we may break up the union of all sets in the collection\ninto a union of two sets:\n$$\\bigcup_{i=1}^N A_i = \\left( \\bigcup_{i=1}^{N-1} A_i \\right ) \\cup A_N$$\n\nBy the principle of inclusion-exclusion for two sets, we have\n$$\\left | \\bigcup_{i=1}^N A_i \\right | = \\left | \\bigcup_{i=1}^{N-1} A_i \\right| + |A_N| - \\left|\\left( \\bigcup_{i=1}^{N-1} A_i \\right ) \\cap A_N \\right|$$\n\nNow, let $I_k$ be the collection of all $k$-fold intersections of\n$A_1, A_2, \\dots A_{N-1}$, and let $I'_k$ be the collection of all\n$k$-fold intersections of $A_1, A_2, \\dots A_N$ that include $A_N$. Note\nthat $A_N$ is included in every member of $I'_k$ and in no member of\n$I_k$, so the two sets do not duplicate one another.\n\nWe then have\n$$\\left | \\bigcup_{i=1}^N A_i \\right | = \\sum_{j=1}^N \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| - \\left|\\left( \\bigcup_{i=1}^{N-1} A_i \\right ) \\cap A_N \\right|$$\nby the principle of inclusion-exclusion for a collection of $N-1$ sets.\nThen, we may distribute set intersection over set union to find that\n$$\\left | \\bigcup_{i=1}^N A_i \\right | = \\sum_{j=1}^N \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| - \\left| \\bigcup_{i=1}^{N-1} (A_i \\cap A_N) \\right |$$\nNote, however, that\n$$(A_x \\cap A_N) \\cup (A_y \\cap A_N) = (A_x \\cap A_y \\cap A_N)$$ Hence\nwe may again apply the principle of inclusion-exclusion for $N-1$ sets,\nrevealing that $$\\begin{aligned}\n\\left | \\bigcup_{i=1}^N A_i \\right | &=& \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| - \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S \\cap A_N| \\right ) \\\\\n&=& \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| - \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I'_{j+1}} |S| \\right ) \\\\\n&=& \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| - \\sum_{j=2}^{N} \\left( (-1)^{(j)} \\sum_{S\\in I'_{j}} |S| \\right ) \\\\\n&=& \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + |A_N| + \\sum_{j=2}^{N} \\left( (-1)^{(j+1)} \\sum_{S\\in I'_{j}} |S| \\right ) \\\\\\end{aligned}$$\n\nThe second sum does not include $I'_1$. Note, however, that\n$I'_1 = \\{ A_N \\}$, so we have $$\\begin{aligned}\n\\left | \\bigcup_{i=1}^N A_i \\right | &=& \\sum_{j=1}^{N-1} \\left( (-1)^{(j+1)} \\sum_{S\\in I_j} |S| \\right ) + \\sum_{j=1}^{N} \\left( (-1)^{(j+1)} \\sum_{S\\in I'_{j}} |S| \\right ) \\\\\n&=& \\sum_{j=1}^{N-1} \\left[ (-1)^{(j+1)} \\left(  \\sum_{S\\in I_j} |S| + \\sum_{S\\in I'_{j}} |S| \\right ) \\right]\n+(-1)^{N+1}\\left | \\bigcap_{i=1}^N A_i\\right | \\\\\\end{aligned}$$\n\nCombining the two sums yields the principle of inclusion-exclusion for\n$N$ sets.",
  "conclusion": "#P_PrincipleOfInclusionexclusion",
  "language": "INFORMAL",
  "premises": [
    "#P_planetmath_ZFC"
  ],
  "citations": [
    {
      "textCitation": "https://planetmath.org/PrincipleOfInclusionexclusionProofOf"
    }
  ],
  "indexable": false,
  "names": [
    "principle of inclusion-exclusion, proof of"
  ]
}