{
  "argumentText": "Let $\\bar{\\mathcal{A}}$ denote the closure of $\\mathcal{A}$ in\n$C^0 (X, \\mathbb{R})$ according to the uniform convergence topology. We\nwant to show that, if conditions 1 and 2 are satisfied, then\n$\\bar{\\mathcal{A}} = C^0 (X, \\mathbb{R})$.\n\nFirst, we shall show that, if $f \\in \\bar{\\mathcal{A}}$, then\n$|f| \\in \\bar{\\mathcal{A}}$. Since $f$ is a continuous function on a\ncompact space $f$ must be bounded \u2013 there exists constants $a$ and $b$\nsuch that $a \\le f \\le b$. By the Weierstrass approximation theorem, for\nevery $\\epsilon > 0$, there exists a polynomial such that\n$|P(x) - |x|| < \\epsilon$ when $x \\in [a,b]$. (By the way, one does not\nneed the full-blown Weierstrass approximation theorem to show that $P$\nexists \u2013 see the entry \u201cproof of Weierstrass approximation theorem\u201d for\nan elementary construction of $P$) Define $g: X \\to \\mathbb{R}$ by\n$g(x) = P(f(x))$. Since $\\bar{\\mathcal{A}}$ is an algebra,\n$g \\in \\bar{\\mathcal{A}}$. For all $x \\in X$,\n$|g(x) - |f(x)|| < \\epsilon$. Since $\\bar{\\mathcal{A}}$ is closed under\nthe uniform convergence topology, this implies that\n$|f| \\in \\bar{\\mathcal{A}}$.\n\nA corollary of the fact just proven is that if\n$f,g \\in \\bar{\\mathcal{A}}$, then $\\max (f,g) \\in \\bar{\\mathcal{A}}$ and\n$\\min (f,g) \\in \\bar{\\mathcal{A}}$. The reason for this is that one can\nwrite $$\\max (a,b) = {1 \\over 2} \\left( a+b + |a-b| \\right)$$\n$$\\min (a,b) = {1 \\over 2} \\left( a+b - |a-b| \\right)$$\n\nSecond, we shall show that, for every $f \\in C^0 (X, \\mathbb{R})$, every\n$x \\in X$, and every $\\epsilon > 0$, there exists\n$g_x \\in \\bar{\\mathcal{A}}$ such that $g_x \\le f + \\epsilon$ and\n$g_x > f$. By condition 1, if $y \\neq x$, there exists a function\n${\\tilde h}_{xy} \\in \\mathcal{A}$ such that\n${\\tilde h}_{xy} (x) \\ne {\\tilde h}_{xy} (y)$. Define $h_{xy}$ by\n$h_{xy} (z) = p {\\tilde h}_{xy} (z) + q$, where the constants $p$ and\n$q$ have been chosen so that $$h_{xy} (x) = f(x) + \\frac{\\epsilon}{2}$$\n$$h_{xy} (y) = f(y) - \\frac{\\epsilon}{2}$$ By condition 2,\n$h_{xy} \\in \\mathcal{A}$. (Note: This is the only place in the proof\nwhere condition 2 is used, but it is crucial since, otherwise, it might\nnot be possible to construct a function which takes arbitrary\npreassigned values at two distinct points of $X$. The necessity of\ncondition 2 can be shown by a simple example: Suppose that $\\mathcal{A}$\nis the algebra of all continuous functions on $f$ which vanish at a\npoint $O \\in X$. It is easy to see that this algebra satisfies all the\nhypotheses of the theorem except condition 2 and the conclusion of the\ntheorem does not hold in this case.)\n\nFor every $y \\ne x$, define the set $U_{xy}$ as\n$$U_{xy} = \\{ z \\in X \\mid h_{xy} (z) < f(z) + \\epsilon \\}$$ Since $f$\nand $h_{xy}$ are continuous, $U_{xy}$ is an open set. Because\n$x \\in U_{xy}$ and $y \\in U_{xy}$,\n$\\left\\{ U_{xy} \\mid y \\in X \\setminus \\{x\\} \\right\\}$ is an open cover\nof $X$. By the definition of a compact space, there must exist a finite\nsubcover. In other words, there exists a finite subset\n$\\{y_1, y_2, \\ldots, y_n \\} \\subset X$ such that\n$X = \\bigcup_{m=0}^n U_{xy_m}$. Define\n$$g_x = \\min (h_{xy_1}, h_{xy_2}, \\ldots, h_{xy_n}).$$ By the corollary\nof the first part of the proof, $g_x \\in \\bar{\\mathcal{A}}$. By\nconstruction, $g_x(x) = f(x) + \\epsilon / 2$ and $g_x < f + \\epsilon$.\n\nThird, we shall show that, for every $f \\in C^0 (X, \\mathbb{R})$ and\nevery $\\epsilon > 0$, there exists a function $g \\in \\bar{\\mathcal{A}}$\nsuch that $f \\le g < f + \\epsilon$. This will complete the proof\nbecauase it implies that $\\bar{\\mathcal{A}} = C^0 (X, \\mathbb{R})$. For\nevery $x \\in X$, define the set $V_x$ as\n$$V_x = \\{ z \\in X \\mid g_{x} (z) > f(x) \\}$$ where $g_x$ is defined as\nbefore. Since $f$ and $g_x$ are continuous, $V_x$ is an open set.\nBecause $g_x(x)=f(x)+ \\epsilon /2 > f(x)$, $x \\in V_x$. Hence\n$\\left\\{ V_x \\mid x \\right\\}$ is an open cover of $X$. By the definition\nof a compact space, there must exist a finite subcover. In other words,\nthere exists a finite subset $\\{x_1, x_2, \\ldots x_n \\} \\subset X$ such\nthat $X = \\bigcup_{m=0}^n V_{x_n}$. Define $g$ as\n$$g (z) = \\max \\{ g_{x_1} (z), g_{x_2} (z), \\ldots, g_{x_n} (z) \\}$$ By\nthe corollary of the first part of the proof, $g \\in \\bar{\\mathcal{A}}$.\nBy construction, $g > f$. Since $g_x < f + \\epsilon$ for every\n$x \\in X$, $g < f + \\epsilon$.",
  "conclusion": "#P_StoneWeierstrassTheorem",
  "language": "INFORMAL",
  "premises": [
    "#P_planetmath_ZFC"
  ],
  "citations": [
    {
      "textCitation": "https://planetmath.org/ProofOfStoneWeierstrassTheorem"
    }
  ],
  "indexable": false,
  "names": [
    "proof of Stone-Weierstrass theorem"
  ]
}