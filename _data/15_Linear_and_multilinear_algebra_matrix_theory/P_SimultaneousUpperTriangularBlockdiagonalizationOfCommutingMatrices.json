{
  "language": "INFORMAL",
  "remarks": "",
  "statement": "Let ${\\mathbf}{e}_i$ denote the (column) vector whose $i$th position is\n$1$ and where all other positions are $0$. Denote by $[n]$ the set\n$\\{1,\\dotsc,n\\}$. Denote by ${\\mathrm{M}}_n({\\mathcal}{K})$ the set of\nall $n \\times \nn$ matrices over ${\\mathcal}{K}$, and by\n${\\mathrm{GL}}_n({\\mathcal}{K})$ the set of all invertible elements of\n${\\mathrm{M}}_n({\\mathcal}{K})$.\n\nLet ${\\mathcal}{K}$ be a field, let\n$A_1,\\dotsc,A_r \\in {\\mathrm{M}}_n({\\mathcal}{K})$ be pairwise commuting\nmatrices, and let ${\\mathcal}{L}$ be a field extension of\n${\\mathcal}{K}$ in which the characteristic polynomials of all $A_k$\nsplit. Then there exists an equivalence relation $\\sim$ on $[n]$ and a\nmatrix $R \\in {\\mathrm{GL}}_n({\\mathcal}{L})$ such that:\n\n1.  If $i \\sim j$ and $i \\leqslant k \\leqslant j$ then $k \\sim i$.\n\n2.  If $i \\sim j$ then ${{\\mathbf}{e}_i^{\\mathrm{T}}\\!} R^{-1} A_k R \n          {\\mathbf}{e}_i = {{\\mathbf}{e}_j^{\\mathrm{T}}\\!} R^{-1} A_k R {\\mathbf}{e}_j$.\n\n3.  If\n    ${{\\mathbf}{e}_i^{\\mathrm{T}}\\!} R^{-1} A_k R {\\mathbf}{e}_j \\neq 0$\n    then $i \\leqslant j$ and $i \\sim j$.\n\nIn other words there exists a simultaneous upper triangular\nblock-diagonalisation of the matrices $A_1,\\dotsc,A_r$ in which each\nblock is characterised by the particular values of the diagonal\nelements.\n\nThe proof of this theorem is the obvious combination of the following\ntwo lemmas.\n\nLet ${\\mathcal}{K}$ be a field, let\n$A_1,\\dotsc,A_r \\in {\\mathrm{M}}_n({\\mathcal}{K})$ be pairwise commuting\nmatrices, and let ${\\mathcal}{L}$ be a field extension of\n${\\mathcal}{K}$ in which the characteristic polynomials of all $A_k$\nsplit. Then there exists some $P \\in {\\mathrm{GL}}_n({\\mathcal}{L})$\nsuch that\n\n1.  $P^{-1} A_k P$ is upper triangular for all $k=1,\\dotsc,r$, and\n\n2.  if $i,j,l \\in [n]$ are such that $i \\leqslant l \\leqslant j$ and\n    ${{\\mathbf}{e}_i^{\\mathrm{T}}\\!} P^{-1} A_k P {\\mathbf}{e}_i = \n          {{\\mathbf}{e}_j^{\\mathrm{T}}\\!} P^{-1} A_k P {\\mathbf}{e}_j$\n    for all $k=1,\\dotsc,r$, then\n    ${{\\mathbf}{e}_l^{\\mathrm{T}}\\!} P^{-1} A_k P \n          {\\mathbf}{e}_l = {{\\mathbf}{e}_j^{\\mathrm{T}}\\!} P^{-1} A_k P {\\mathbf}{e}_j$\n    for all $k=1,\\dotsc,r$ as well.\n\nLet $B_k = P^{-1} A_k P$ for all $k=1,\\dotsc,r$ and define $$i \\sim j\n  \\quad\\text{if and only if}\\quad\n  {{\\mathbf}{e}_i^{\\mathrm{T}}\\!} P^{-1} A_k P {\\mathbf}{e}_i = \n    {{\\mathbf}{e}_j^{\\mathrm{T}}\\!} P^{-1} A_k P {\\mathbf}{e}_j\n  \\text{ for all }k \\in [r]\\text{.}$$\n\nLet ${\\mathcal}{L}$ be a field, let $n$ be a positive integer, and let\n$\\sim$ be an equivalence relation on $[n]$ such that if $i \\sim j$ and\n$i \\leqslant k \\leqslant j$ then $k \\sim i$. Let $B_1,\\dotsc,B_r \n  \\in {\\mathrm{M}}_n({\\mathcal}{L})$ be pairwise commuting upper\ntriangular matrices. If these matrices and $\\sim$ are related such that\n$$i \\sim j\n    \\quad\\text{if and only if}\\quad\n    {{\\mathbf}{e}_i^{\\mathrm{T}}\\!} B_k {\\mathbf}{e}_i = {{\\mathbf}{e}_j^{\\mathrm{T}}\\!} B_k {\\mathbf}{e}_j\n    \\text{ for all }k \\in [r]\\text{,}$$ then there exists a matrix\n$Q \\in {\\mathrm{GL}}_n({\\mathcal}{L})$ such that:\n\n1.  If\n    ${{\\mathbf}{e}_i^{\\mathrm{T}}\\!} Q^{-1} B_k Q {\\mathbf}{e}_j \\neq 0$\n    then $i \\sim j$ and $i \\leqslant j$.\n\n2.  If $i \\sim j$ then ${{\\mathbf}{e}_i^{\\mathrm{T}}\\!} Q^{-1} B_k Q \n          {\\mathbf}{e}_j = {{\\mathbf}{e}_i^{\\mathrm{T}}\\!} B_k {\\mathbf}{e}_j$.\n\nThe wanted $R$ is then $PQ$.",
  "citations": [
    {
      "textCitation": "https://planetmath.org/SimultaneousUpperTriangularBlockdiagonalizationOfCommutingMatrices"
    }
  ],
  "indexable": true,
  "names": [
    "simultaneous upper triangular block-diagonalization of commuting matrices"
  ]
}