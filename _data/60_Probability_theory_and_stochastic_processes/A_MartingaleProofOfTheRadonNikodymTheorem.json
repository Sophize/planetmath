{
  "argumentText": "We apply the martingale convergence theorem to prove the Radon-Nikodym\ntheorem, which states that if $\\mu$ and $\\nu$ are $\\sigma$-finite\nmeasures on a measurable space $(\\Omega,\\mathcal{F})$ and $\\nu$ is\nabsolutely continuous with respect to $\\mu$ then there exists a\nnon-negative and measurable $f\\colon\\Omega\\rightarrow\\mathbb{R}$ such\nthat $\\nu(A)=\\int_Af\\,d\\mu$ for all measurable sets $A$.\n\nAs , it is enough to prove the result in the case where $\\mu$ and $\\nu$\nare probability measures. Furthermore, by the Jordan decomposition, the\nresult generalizes to the case where $\\nu$ is a signed measure. So, we\njust need to prove the following.\n\nLet $\\mathbb{P}$ and $\\mathbb{Q}$ be probability measures on the\nmeasurable space $(\\Omega,\\mathcal{F})$, such that $\\mathbb{Q}$ is\nabsolutely continuous with respect to $\\mathbb{P}$. Then, there exists a\nnon-negative random variable $X$ such that $\\mathbb{E}_\\mathbb{P}[X]=1$\nand $\\mathbb{Q}(A)=\\mathbb{E}_\\mathbb{P}[1_AX]$ for every\n$A\\in\\mathcal{F}$.\n\nHere, $X$ is called the Radon-Nikodym derivative of $\\mathbb{Q}$ with\nrespect to $\\mathbb{P}$.\n\nMore generally, for any sub-$\\sigma$-algebra $\\mathcal{G}$ of\n$\\mathcal{F}$ we can restrict the measures $\\mathbb{P}$ and $\\mathbb{Q}$\nto $\\mathcal{G}$ and ask if the Radon-Nikodym derivative of\n$\\mathbb{Q}|_\\mathcal{G}$ with respect to $\\mathbb{P}|_\\mathcal{G}$\nexists. If it does we shall denote it by $X_\\mathcal{G}$, which by\ndefinition is a non-negative $\\mathcal{G}$-measurable random variable\nsatisfying $\\mathbb{Q}(A)=\\mathbb{E}_\\mathbb{P}[1_AX_\\mathcal{G}]$ for\nall $A\\in\\mathcal{G}$.\n\nWe note that if $X_\\mathcal{G}$ does exist, then it is uniquely defined\n($\\mathbb{P}$-almost everywhere). Suppose that $\\tilde X_{\\mathcal{G}}$\nalso satisfied the required properties, then $$\\begin{split}\n\\mathbb{E}_{\\mathbb{P}}[\\max(X_{\\mathcal{G}}-\\tilde X_{\\mathcal{G}},0)]\n&=\\mathbb{E}_{\\mathbb{P}}[X_\\mathcal{G}1_{\\left\\{X_{\\mathcal{G}}>\\tilde X_{\\mathcal{G}}\\right\\}}]-\\mathbb{E}_{\\mathbb{P}}[\\tilde X_\\mathcal{G}1_{\\left\\{X_{\\mathcal{G}}>\\tilde X_{\\mathcal{G}}\\right\\}}]\\\\\n&=\\mathbb{Q}(X_{\\mathcal{G}}>\\tilde X_{\\mathcal{G}})-\\mathbb{Q}(X_{\\mathcal{G}}>\\tilde X_{\\mathcal{G}})=0\n\\end{split}$$ so $X_\\mathcal{G}\\le \\tilde X_\\mathcal{G}$ almost surely.\nSimilarly, $\\tilde X_\\mathcal{G}\\le X_\\mathcal{G}$ and therefore\n$\\tilde X_\\mathcal{G}= X_\\mathcal{G}$ (almost surely).\n\nFirst, the easy case. For a finite $\\sigma$-algebra, the Radon-Nikodym\nderivative can be written out explicitly.\n\nIf $\\mathcal{G}$ is a finite sub-$\\sigma$-algebra of $\\mathcal{F}$ then\nthe Radon-Nikodym derivative $X_\\mathcal{G}$ exists.\n\nLet $A_1,A_2,\\ldots,A_n$ be the minimal non-empty elements of\n$\\mathcal{G}$. These are pairwise disjoint subsets of $\\Omega$ such that\nevery set in $\\mathcal{G}$ is a union of a subcollection of the $A_k$.\nSet\n$$X_\\mathcal{G}=\\sum_{k=1}^n \\frac{\\mathbb{Q}(A_k)}{\\mathbb{P}(A_k)}1_{A_k}$$\nNote that whenever $\\mathbb{P}(A_k)=0$ then $\\mathbb{Q}(A_k)=0$, and we\nadopt the convention that $\\frac{0}{0}=0$. Clearly, $X_\\mathcal{G}$ is\n$\\mathcal{G}$-measurable, and $$\\begin{split}\n\\mathbb{E}_{\\mathbb{P}}[1_{A_k}X_\\mathcal{G}]\n&=\\frac{\\mathbb{Q}(A_k)}{\\mathbb{P}(A_k)}\\mathbb{E}_{\\mathbb{P}}[1_{A_k}]+\\sum_{j\\not=k}\\frac{\\mathbb{Q}(A_j)}{\\mathbb{P}(A_j)}\\mathbb{E}_{\\mathbb{P}}[1_{A_k\\cap A_j}]\\\\\n&=\\mathbb{Q}(A_k).\n\\end{split}$$ Here, we have used\n$\\mathbb{E}_{\\mathbb{P}}[1_{A_k}]=\\mathbb{P}(A_k)$ and\n$1_{A_k\\cap A_j}=0$. By linearity, this equality remains true if both\nsides are replaced by any union of the $A_k$, and therefore\n$X_\\mathcal{G}$ is the required Radon-Nikodym derivative.\n\nNext, martingale convergence is used to prove the existence of the\nRadon-Nikodym derivative in the case where the $\\sigma$-algebra\n$\\mathcal{G}$ is separable. By separable, we mean that there is a\ncountable sequence of sets $A_1,A_2,\\ldots$ generating $\\mathcal{G}$.\nNote that if we let $\\mathcal{G}_n$ be the $\\sigma$-algebra generated by\n$A_1,A_2,\\ldots,A_n$, then $\\mathcal{G}_n$ is an increasing sequence of\nfinite sub-$\\sigma$-algebras such that $\\bigcup_n\\mathcal{G}_n$\ngenerates $\\mathcal{G}$. The following result is general enough to apply\nin many useful cases, such as with the Boral $\\sigma$-algebra on\n$\\mathbb{R}^n$.\n\n\\[lem:1\\] Let $\\mathcal{G}$ be a separable sub-$\\sigma$-algebra of\n$\\mathcal{F}$. Then, the Radon-Nikodym derivative $X_\\mathcal{G}$\nexists. If furthermore, $\\mathcal{G}_n$ is an increasing sequence of\nfinite $\\sigma$-algebras satisfying\n$\\mathcal{G}=\\sigma(\\bigcup_n\\mathcal{G}_n)$ then\n$\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}}-X_{\\mathcal{G}_n}|]\\rightarrow 0$\nas $n\\rightarrow\\infty$.\n\nLet us set $X_n\\equiv X_{\\mathcal{G}_n}$. If $m<n$ then the conditional\nexpectation $\\mathbb{E}_{\\mathbb{P}}[X_n\\mid\\mathcal{G}_m]$ is\n$\\mathcal{G}_m$-measurable, and for every $A\\in\\mathcal{G}_m$,\n$$\\mathbb{E}_\\mathbb{P}\\left[1_A\\mathbb{E}_{\\mathbb{P}}[X_n\\mid\\mathcal{G}_m]\\right]\n=\\mathbb{E}_{\\mathbb{P}}\\left[1_AX_n\\right]=\\mathbb{Q}(A).$$ This\nequality just uses the definition of the conditional expectation and\nthen the definition of $X_n$ as the Radon-Nikodym derivative restricted\nto $\\mathcal{G}_n$. So, $\\mathbb{E}_{\\mathbb{P}}[X_n\\mid\\mathcal{G}_m]$\nis the Radon-Nikodym derivative restricted to $\\mathcal{G}_m$, and\nequals $X_m$ (almost-surely).\n\nTherefore, $X_n$ is a martingale and the martingale convergence theorem\nimplies that the limit $$\\label{eq:1}\nX_\\mathcal{G}=\\lim_{n\\rightarrow\\infty}X_n$$ exists almost surely. We\nnow show that the sequence $X_n$ is uniformly integrable. Choose any\n$\\epsilon>0$. As $\\mathbb{Q}$ is absolutely continuous with respect to\n$\\mathbb{P}$, there exists a $\\delta>0$ such that\n$\\mathbb{Q}(A)<\\epsilon$ whenever $\\mathbb{P}(A)<\\delta$. Using\n$$\\mathbb{P}(X_n>K)=\\mathbb{E}_{\\mathbb{P}}[1_{\\{X_n>K\\}}]\\le\\mathbb{E}_\\mathbb{P}\\left[\\frac{X_n}{K}\\right]=\\frac{1}{K}$$\nwe see that $\\mathbb{P}(X_n>K)<\\delta$ whenever $K>\\delta^{-1}$ and,\ntherefore, $\\mathbb{Q}(X_n>K)<\\epsilon$. So\n$$\\mathbb{E}_{\\mathbb{P}}[X_n1_{\\{X_n>K\\}}]=\\mathbb{Q}(X_n>K)<\\epsilon$$\nfor every $n$, showing that $X_n$ is a uniformly integrable sequence\nwith respect to $\\mathbb{P}$. Therefore, convergence in (\\[eq:1\\]) is in\n$L^1$, and $\\mathbb{E}_{\\mathbb{P}}[|X_n-X_\\mathcal{G}|]\\rightarrow 0$\nas $n\\rightarrow\\infty$. So, for any $A\\in\\bigcup_n\\mathcal{G}_n$,\n$$\\label{eq:3}\n\\mathbb{E}_\\mathbb{P}[X_\\mathcal{G}1_A]=\\lim_{m\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[X_m1_A]=\\mathbb{Q}(A).$$\nBy linearity and the monotone convergence theorem, the collection of\nsets $A$ satisfying (\\[eq:3\\]) is a Dynkin system containing the\n$\\pi$-system $\\bigcup_n\\mathcal{G}_n$ so, by Dynkin\u2019s lemma, is\nsatisfied for every $A\\in\\sigma(\\bigcup_n\\mathcal{G}_n)=\\mathcal{G}$\nand, by definition, $X_\\mathcal{G}$ is the Radon-Nikodym derivative\nrestricted to $\\mathcal{G}$.\n\nFinally, by approximating by finite $\\sigma$-algebras we can prove the\nRadon-Nikodym theorem for arbitrary inseparable $\\sigma$-algebras\n$\\mathcal{F}$.\n\n[**Proof of the Radon-Nikodym theorem:**]{}\n\nFirst, we use contradiction to show that for any $\\epsilon>0$ there\nexists a finite $\\sigma$-algebra $\\mathcal{G}\\subseteq\\mathcal{F}$\nsatisfying\n$\\mathbb{E}_\\mathbb{P}[|X_\\mathcal{G}-X_\\mathcal{H}|]<\\epsilon$ for\nevery finite $\\sigma$-algebra $\\mathcal{H}$ with\n$\\mathcal{G}\\subseteq\\mathcal{H}\\subseteq{F}$. If this were not the\ncase, then by induction we could find an increasing sequence of finite\nsub-$\\sigma$-algebras of $\\mathcal{F}$ satisfying\n$\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}_n}-X_{\\mathcal{G}_m}|]\\ge\\epsilon$.\nHowever, letting $\\mathcal{G}=\\sigma(\\bigcup_n\\mathcal{G}_n)$, Lemma\n\\[lem:1\\] shows that $X_\\mathcal{G}$ exists and\n$$\\epsilon\\le\\lim_{n\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}_n}-X_{\\mathcal{G}_{n+1}}|]\n\\le\\lim_{n\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}_n}-X_{\\mathcal{G}}|]+\\lim_{n\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}_{n+1}}-X_{\\mathcal{G}}|]=0$$\n\u2014 a contradiction.\n\nSo, there exists a sequence of finite sub-$\\sigma$-algebras\n$\\mathcal{G}_n$ of $\\mathcal{F}$ such that\n$\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{G}_n}-X_\\mathcal{H}|]<2^{-n}$ for\nevery finite sub-$\\sigma$-algebra $\\mathcal{H}$ of $\\mathcal{F}$\ncontaining $\\mathcal{G}_n$. Let $\\mathcal{G}$ be the (separable)\n$\\sigma$-algebra generated by $\\bigcup_n\\mathcal{G}_n$, and set\n$\\mathcal{\\tilde G}_n=\\sigma(\\bigcup_{k=1}^n\\mathcal{G}_k)$. By Lemma\n\\[lem:1\\], the Radon-Nikodym derivative restricted to $\\mathcal{G}$,\n$X_\\mathcal{G}$, exists, and we show that it is the required derivative\nof $\\mathbb{Q}$ with respect to $\\mathbb{P}$.\n\nChoose any set $A\\in\\mathcal{F}$ and let $\\mathcal{H}_n$ be the (finite)\n$\\sigma$-algebra generated by $\\mathcal{G}_n\\cup\\{A\\}$. Then,\n$X_{\\mathcal{H}_n}$ exists and satisfies\n$\\mathbb{E}_{\\mathbb{P}}[X_{\\mathcal{H}_n}1_A]=\\mathbb{Q}(A)$ and,\n$$\\begin{split}\n\\left|\\mathbb{E}_\\mathbb{P}[X_\\mathcal{G}1_A]-\\mathbb{Q}(A)\\right|\n&=\\lim_{n\\rightarrow\\infty}\\left|\\mathbb{E}_\\mathbb{P}[X_{\\mathcal{\\tilde G}_n}1_A]-\\mathbb{Q}(A)\\right|\\\\\n&=\\lim_{n\\rightarrow\\infty}\\left|\\mathbb{E}_\\mathbb{P}[X_{\\mathcal{\\tilde G}_n}1_A]-\\mathbb{E}_\\mathbb{P}[X_{\\mathcal{H}_n}1_A]\\right|\\\\\n&\\le\\lim_{n\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{\\tilde G}_n}-X_{\\mathcal{G}_n}|]+\\lim_{n\\rightarrow\\infty}\\mathbb{E}_\\mathbb{P}[|X_{\\mathcal{H}_n}-X_{\\mathcal{G}_n}|]\\\\\n&\\le\\lim_{n\\rightarrow\\infty}(2^{-n}+2^{-n})=0.\n\\end{split}$$ So,\n$\\mathbb{E}_{\\mathbb{P}}[X_\\mathcal{G}1_A]=\\mathbb{Q}(A)$ as required.\n\n[9]{} David Williams, *Probability with martingales*, Cambridge\nMathematical Textbooks, Cambridge University Press, 1991.",
  "conclusion": "#P_RadonNikodymTheorem",
  "language": "INFORMAL",
  "premises": [
    "#P_planetmath_ZFC"
  ],
  "citations": [
    {
      "textCitation": "https://planetmath.org/MartingaleProofOfTheRadonNikodymTheorem"
    }
  ],
  "indexable": false,
  "names": [
    "martingale proof of the Radon-Nikodym theorem"
  ]
}