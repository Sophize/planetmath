{
  "language": "INFORMAL",
  "remarks": "",
  "statement": "An odd prime $p$ can be written $p=x^2+y^2$ with $x,y\\in{\\mathbb{Z}}$ if\nand only if $p \\equiv 1 \\pmod 4$.\n\n$\\Rightarrow$: This direction is obvious. Since $p$ is odd, exactly one\nof $x,y$ is odd. If (say) $x$ is odd and $y$ is even, then\n$x^2\\equiv 1\\pmod 4$ and $y^2\\equiv 0\\pmod 4$. $\\Leftarrow$: Since\n$p \\equiv 1 \\pmod 4$, by Euler\u2019s Criterion we have that\n$\\left(\\frac{-1}{p}\\right)=1$ where $\\left(\\frac{n}{p}\\right)$ is the\nLegendre symbol. Choose $k$ such that $p\\mid k^2+1$. Working in\n${\\mathbb{Z}}[i]$ we have $k^2+1=(k+i)(k-i)$. Then $p\\mid k^2+1$, but\n$p$ does not divide either factor since $p\\nmid k$. Hence $p$ is not\nprime. Since ${\\mathbb{Z}}[i]$ is a UFD, it follows that $p$ is not\nirreducible either, so we can write $p=(a+bi)(c+di)$, where neither\nfactor is a unit (i.e. neither factor has norm $1$). Taking norms, we\nget\n$$p^2 = \\textrm{N}(p)=\\textrm{N}(a+bi)\\textrm{N}(c+di)=(a^2+b^2)(c^2+d^2)$$\nSince neither factor has norm $1$, we must have $p=a^2+b^2=c^2+d^2$, so\n$p$ is the sum of two squares.\n\nThere are more elementary proofs of $\\Leftarrow$, but one can try to\ngeneralize the given proof for arbitrary $n$. When can $p$ be written as\n$x^2+ny^2, n>0$? By analogy with the proof for $n=1$, suppose we find\n$k$ such that $p\\mid k^2+n$ (i.e. that $\\left(\\frac{-n}{p}\\right)=1$).\nThen in ${\\mathbb{Z}}[\\sqrt{-n}]$, it follows that\n$k^2+n=(k+\\sqrt{-n})(k-\\sqrt{-n})$, so again $p$ is not prime since it\ndoes not divide either factor. If ${\\mathbb{Z}}[\\sqrt{-n}]$ is a UFD,\nthen $p$ is not irreducible either. We can then write as before\n$p=(a+b\\sqrt{-n})(c+d\\sqrt{-n})$ and, taking norms, we get the same\nresult: $p=a^2+nb^2=c^2+nd^2$.\n\nThis argument relies on two things: first, that $-n$ is a square\n$\\mod p$ (i.e. that $\\left(\\frac{-n}{p}\\right)=1$); second, that\n${\\mathbb{Z}}[\\sqrt{-n}]$ is a UFD. It is known that the only imaginary\nquadratic rings ${\\mathbb{Q}}(\\sqrt{-n})$ that are UFDs are those for\n$n=1,2,3,7,11,19,43,67,163$, and the only $n$ in that set for which\n${\\mathbb{Z}}[\\sqrt{-n}]$ is the ring of integers are $n=1,2$.\n\nSo for $n=1,2$, and $p$ an odd prime, $p=x^2+ny^2$ if and only if\n$\\left(\\frac{-n}{p}\\right)=1$, while for the other $n$\n($3,\\,7,\\,11,\\,19,\\,43,\\,67,\\,163$), the ring of integers of\n${\\mathbb{Q}}(\\sqrt{n})$ is not ${\\mathbb{Z}}[\\sqrt{-n}]$, so\n${\\mathbb{Z}}[\\sqrt{-n}]$ is not integrally closed and thus is not a UFD\nand hence this proof will not work for those values of $n$.\n\nThe cases $n=3$ and $n=7$ can be dealt with by the following relatively\nsimple argument (which, as you can see, does not generalize further):\nCorollary 6 in the article on representation of integers by equivalent\nintegral binary quadratic forms states that if $p$ is an odd prime not\ndividing $n$, then ${\\left(\\frac{-n}{p}\\right)}=1$ if and only if $p$ is\nrepresented by a of $-4n$. So if there is only one with that (which must\nperforce be the $x^2+ny^2$), then we are done. But\n$h(-4n)=1 \\iff n=1, 2, 3, 4, 7$ (see ). $n=1$ and $n=2$ were dealt with\nabove. $n=4$ is the form $x^2+4y^2$, and if an odd prime $p$ can be\nwritten $p=x^2+4y^2$, then clearly we have also $p=x^2+(2y)^2$;\nconversely, if $p=x^2+y^2$, then either $x$ or $y$ is even, so that also\n$p=x^2+2(y')^2$. Thus $n=4$ has the same set of solutions as $n=1$. But\nwe do get two new cases, $n=3$ and $n=7$, for which have shown that $p$\nis representable as $x^2+ny^2$ if and only if\n${\\left(\\frac{-n}{p}\\right)}=1$, i.e. $-n$ is a square $\\mod p$. We have\nthus proven\n\nIf $n=1$, $2$, $3$, $4$, or $7$, then an odd prime $p$ can be written as\n$p=x^2+ny^2$ with $x$, $y\\in{\\mathbb{Z}}$ if and only if\n$${\\left(\\frac{-n}{p}\\right)}=1$$ i.e. if and only if $-n$ is a square\n$\\mod p$.\n\n**References**\n\nCox, D.A. \u201cPrimes of the Form $x^2 + ny^2$: Fermat, Class Field Theory,\nand Complex Multiplication\u201d, Wiley 1997.",
  "citations": [
    {
      "textCitation": "https://planetmath.org/RepresentingPrimesAsX2ny2"
    }
  ],
  "indexable": true,
  "names": [
    "representing primes as $x^2+ny^2$"
  ]
}