{
  "argumentText": "The objective of this article is to prove the Lucas-Lehmer primality\ntest: Let $p>2$ be a prime, and let $M_p=2^p-1$ be the corresponding\nMersenne number. Then $M_p$ is prime if and only if $M_p$ divides\n$s_{p-1}$ (equivalently, if and only if $s_{p-1}\\equiv 0\\pod {M_p}$)\nwhere the numbers $(s_n)_{n\\geq1}$ are given by the following recurrence\nrelation: $$\\begin{aligned}\n  s_1 &= 4 \\\\\n  s_{n+1} &= {s_n}^2-2,\\quad n\\geq 1\\end{aligned}$$\n\nWe show that the validity of the primality test is equivalent to the\nfollowing theorem, which is then proved directly:\n\n\\[thm:one\\](Lucas) $M_p$ is prime if and only if\n$\\alpha^{(M_p+1)/2}\\equiv -1\\pod{M_p}$, where $\\alpha = 2+\\sqrt{3}$.\n\nTo see that the two are in fact equivalent, let $\\beta=2-\\sqrt{3}$. Then\n$\\alpha+\\beta=4,\\ \\alpha\\beta=1$. Thus $$\\begin{aligned}\n  s_1 &= \\alpha+\\beta\\\\\n  s_2 &= (\\alpha+\\beta)^2 - 2 = \\alpha^2 + \\beta^2 + 2\\alpha\\beta-2 = \\alpha^2+\\beta^2\\\\\n  s_3 &= \\alpha^4 + \\beta^4\\\\\n  \\cdots &\\\\\n  s_{p-1} &= \\alpha^{2^{p-2}}+\\beta^{2^{p-2}}\\end{aligned}$$ Note that\n$2^{p-2} = \\frac{M_p+1}{4}$. Then $$\\begin{aligned}\n  s_{p-1}\\equiv 0\\pod{M_p} & \\iff \\alpha^{(M_p+1)/4}+\\beta^{(M_p+1)/4} \\equiv 0\\pod {M_p}\\\\\n    &\\iff \\alpha^{(M_p+1)/2}+(\\alpha\\beta)^{(M_p+1)/4} \\equiv 0\\pod {M_p}\\\\\n    &\\iff \\alpha^{(M_p+1)/2}\\equiv -1\\pod {M_p}\\end{aligned}$$\n\nIt thus remains to prove Theorem \\[thm:one\\]. We start with two simple\nlemmas:\n\n\\[lem:two\\]If $p>3$ is prime, then $\\alpha^{p-1}\\equiv 1\\pod p$ or\n$\\alpha^{p+1}\\equiv 1\\pod p$.\n\n$$\\alpha^p \\equiv 2^p + 3^{(p-1)/2}\\sqrt{3} \\equiv \\begin{cases}\\alpha\\pod p & \\text{if }{\\left(\\frac{3}{p}\\right)}=1\\\\\n  \\beta \\pod p & \\text{if }{\\left(\\frac{3}{p}\\right)}=-1\\end{cases}$$\nwhere ${\\left(\\frac{\\cdot}{\\cdot}\\right)}$ is the Legendre symbol. Thus\n$$\\begin{gathered}\n    {\\left(\\frac{3}{p}\\right)} = 1 \\ \\Rightarrow\\ \\alpha^{p-1} = \\alpha^p\\alpha^{-1}\n      = \\alpha^p\\beta \\equiv \\alpha\\beta = 1\\pod p\\\\\n  {\\left(\\frac{3}{p}\\right)} = -1 \\ \\Rightarrow\\ \\alpha^{p+1} = \\alpha^p\\alpha \\equiv \\beta\\alpha = 1\\pod p\\end{gathered}$$\n\n\\[lem:three\\]Let $p$ be a prime with $p\\equiv 7\\pod 8$ and\n$p\\equiv 7\\pod {12}$. Then $\\alpha^{(p+1)/2}\\equiv -1\\pod p$.\n\n$(1+\\sqrt{3})^2 = 4+2\\sqrt{3} = 2\\alpha$, so that\n$$(1+\\sqrt{3})^{p+1} = 2^{(p+1)/2}\\alpha^{(p+1)/2}$$ But\n$p\\equiv 7\\pod 8$, so that ${\\left(\\frac{2}{p}\\right)}=1$. Thus\n$2^{(p+1)/2} \\equiv 2\\cdot 2^{(p-1)/2} \\equiv 2 \\pod p$ and therefore\n$$(1+\\sqrt{3})^{p+1} \\equiv 2\\alpha^{(p+1)/2}\\pod p$$ Also,\n$$(1+\\sqrt{3})^{p+1} = (1+\\sqrt{3})(1+\\sqrt{3})^p \\equiv (1+\\sqrt{3})(1+3^{(p-1)/2}\\sqrt{3})\\pod p$$\nBut $p\\equiv 7\\pod {12}$, so $3^{(p-1)/2}\\equiv -1\\pod p$ and thus\n$$(1+\\sqrt{3})^{p+1} \\equiv (1+\\sqrt{3})(1-\\sqrt{3}) = -2\\pod p$$\nPutting together the two expressions for $(1+\\sqrt{3})^{p+1}$, we get\n$\\alpha^{(p+1)/2}\\equiv -1\\pod p$.\n\nWe are now in a position to prove Theorem \\[thm:one\\]:\n\n$(\\Rightarrow):$ If $M_p$ is prime where $p>3$ is prime, then note that\n$M_p\\equiv 7\\pod 8, 7\\pod 12$ so that $M_p$ satisfies the conditions of\nLemma \\[lem:three\\]. The result follows.\n\n$(\\Leftarrow):$ If $\\alpha^{(M_p+1)/2} \\equiv -1\\pod{M_p}$, choose\n$q\\mid M_p$ for $q$ a prime. Since $M_p\\equiv 7\\pod 12$, we have $q>3$.\nSince $\\alpha^{(M_p+1)/2}\\equiv -1\\pod{M_p}$ also\n$\\alpha^{(M_p+1)/2}\\equiv -1\\pod q$ and thus\n$\\alpha^{M_p+1}\\equiv 1\\pod q$. But $M_p+1=2^p$, so\n$$\\alpha^{2^p} \\equiv 1\\pod q$$ Thus the order of $\\alpha\\pod q$ divides\n$2^n$. It can\u2019t divide $2^{n-1}$ since\n$\\alpha^{(M_p+1)/2} \\equiv -1\\pod q$, so its order is precisely\n$2^n = M_p+1$. However, $\\alpha^{q+1}\\equiv 1\\pod q$ or\n$\\alpha^{q-1}\\equiv 1\\pod q$ by Lemma \\[lem:two\\] and thus $q\\geq M_p$.\nBut $q\\mid M_p$, so $q=M_p$ and $M_p$ is in fact prime.",
  "conclusion": "#P_LucasLehmerPrimalityTest",
  "language": "INFORMAL",
  "premises": [
    "#P_planetmath_ZFC"
  ],
  "citations": [
    {
      "textCitation": "https://planetmath.org/ProofOfLucasLehmerPrimalityTest"
    }
  ],
  "indexable": false,
  "names": [
    "proof of Lucas-Lehmer primality test"
  ]
}