{
  "alternatePhrases": [
    "simultaneous recursion"
  ],
  "definition": "Mutual recursion is a way of defining functions via recursion involving\nseveral functions simultaneously. In mutual recursion, the value of the\nnext argument of *any* function involved depends on values of the\ncurrent arguments of *all* functions involved. The following are two\nsimple examples:\n\n-   the pair of functions $f,g$ such that $f(0)=0$ and $g(0)=1$, with\n    $f(n+1)=f(n)g(n)$ and $g(n+1)=f(n)+g(n)$ is defined via mutual\n    recursion. It is easy to see that $f(n)=0$ and $g(n)=1$.\n\n-   Fibonacci numbers can be interpreted via mutual recursion: $F(0)=1$\n    and $G(0)=1$, with $F(n+1)=F(n)+G(n)$ and $G(n+1)=F(n)$.\n\nFormally,\n\n**Definition**. Functions\n$f_1,\\ldots, f_m: \\mathbb{N}^{k+1} \\to \\mathbb{N}$ are said to be\ndefined by *mutual recursion* via functions\n$g_1,\\ldots g_m: \\mathbb{N}^k \\to \\mathbb{N}$ and functions\n$h_1,\\ldots, h_m: \\mathbb{N}^{k+m+1} \\to \\mathbb{N}$, if\n$$\\begin{aligned}\nf_i(\\boldsymbol{x},0) &=& g_i(\\boldsymbol{x}), \\\\\nf_i(\\boldsymbol{x},n+1) &=& h_i(\\boldsymbol{x},n,f_1(\\boldsymbol{x},n),\\ldots, f_m(\\boldsymbol{x},n)),\\end{aligned}$$\nfor any $\\boldsymbol{x}\\in \\mathbb{N}^k$, and $i=1,\\ldots, m$.\n\nMutual recursion is an apparent generalization of primitive recursion,\nwhere the value of the next argument of a function depends on the value\nof the current argument of the same function, apparent because it is in\nfact equivalent to primitive recursion.\n\nAs above, if all of $g_i$ and $h_i$ are primitive recursive, so are all\nof $f_i$.\n\nWe use the multiplicative encoding technique. Define function\n$F:\\mathbb{N}^{k+1} \\to \\mathbb{N}$ as follows:\n$$F(\\boldsymbol{x},n)=\\operatorname{exp}(p_1, f_1(\\boldsymbol{x},n))\\cdots \\operatorname{exp}(p_m, f_m(\\boldsymbol{x},n)),$$\nwhere $p_i$ is the $i$-th prime number ($p_1=2$, etc...). Furthermore,\n$$(F(\\boldsymbol{x},n))_i = f_i(\\boldsymbol{x},n),$$ where $(z)_i$\ndenotes the exponent of prime $p_i$ in $z$. Then $$\\begin{aligned}\nF(\\boldsymbol{x},0) &=& \\prod_{i=1}^m \\operatorname{exp}(p_i, g_i(\\boldsymbol{x})) = G(\\boldsymbol{x}), \\mbox{ and} \\\\\nF(\\boldsymbol{x},n+1) &=& \\prod_{i=1}^m \\operatorname{exp}(p_1, f_1(\\boldsymbol{x},n+1)) \\\\\n&=& \\prod_{i=1}^m \\operatorname{exp}(p_i, h_i(\\boldsymbol{x},n,f_1(\\boldsymbol{x},n),\\ldots, f_m(\\boldsymbol{x},n))) \\\\\n&=& \\prod_{i=1}^m \\operatorname{exp}(p_i, h_i(\\boldsymbol{x},n, (F(\\boldsymbol{x},n))_1,\\ldots, (F(\\boldsymbol{x},n))_m) \\\\\n&=& H(\\boldsymbol{x},n, F(\\boldsymbol{x},n))\\end{aligned}$$ where\n$$G(\\boldsymbol{x}) = \\prod_{i=1}^m \\operatorname{exp}(p_i, g_i(\\boldsymbol{x})),$$\nand\n$$H(\\boldsymbol{x},y,z) = \\prod_{i=1}^m \\operatorname{exp}(p_i, h_i(\\boldsymbol{x},y, (z)_1,\\ldots, (z)_m)$$\nSince each of the $g_i$ is primitive recursive, $G$ is primitive\nrecursive. Since each of the $h_i$ is primitive recursive, $H$ is\nprimitive recursive. So $F$ is primitive recursive, as it is defined via\nprimitive recursion by $G$ and $H$. Therefore, each $f_i = (F)_i$ is\nprimitive recursive.\n\n**Remark**. The primitive recursiveness of mutual recursion can be\nderived from course-of-values recursion. The idea is the following: list\nthe $f_i$\u2019s in order, and construct a single function $F$ so the its\nvalues correspond to the values of the $f_i$\u2019s in the order given. For\nexample, if two unary functions $f_1$ and $f_2$ defined by mutual\nrecursion, then\n\n  ---------- ---------- ---------- ---------- ---------- ---------- ---------- ----------- ------------ ------------ ----------\n   $f_1(0)$   $f_2(0)$   $f_1(1)$   $f_2(1)$   $f_1(2)$   $\\cdots$   $f_1(k)$   $f_2(k)$    $f_1(k+1)$   $f_2(k+1)$   $\\cdots$\n    $F(0)$     $F(1)$     $F(2)$     $F(3)$     $F(4)$    $\\cdots$   $F(2k)$    $F(2k+1)$   $F(2k+2)$    $F(2k+3)$    $\\cdots$\n  ---------- ---------- ---------- ---------- ---------- ---------- ---------- ----------- ------------ ------------ ----------\n\nThen it is not hard to see that $F(k+1)$ depends on $F(k),F(k-1)$, and\n$F(k-2)$, and an explicit formula can be derived expressing the\ndependency. Furthermore, this formula is easily seen to be primitive\nrecursive, and hence so is $F(k)$.",
  "language": "INFORMAL",
  "phrase": "Mutual Recursion",
  "remarks": "",
  "citations": [
    {
      "textCitation": "https://planetmath.org/MutualRecursion"
    }
  ],
  "indexable": true
}