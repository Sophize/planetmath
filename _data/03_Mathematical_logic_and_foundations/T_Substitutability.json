{
  "alternatePhrases": [
    "substitutable for"
  ],
  "definition": "In any logical system, the way to obtain (well-formed) formulas from\nexisting ones is by attaching logical connectives to existing ones. For\nexample, in classical propositional logic, if $\\varphi$ and $\\psi$ are\nformulas, the following\n$$\\varphi\\vee \\psi, \\quad \\neg \\varphi, \\quad \\psi \\wedge \\varphi$$ are\nformed by attaching logical connectives $\\vee,\\neg$, and $\\wedge$\nappropriately to $\\varphi$ and $\\psi$.\n\nAnother convenient device is substitution:\n\n> replace all occurrences of some symbol $x$ in a formula $\\varphi$ by\n> an expression $\\psi$.\n\nWe denote the resulting expression by $$\\varphi[\\psi/x].$$\n\nFor example, in classical propositional logic, if $\\varphi$ is\n$p \\wedge (\\neg r \\vee p)$, then $\\varphi[(p\\vee q)/p]$ is\n$$(p\\vee q)\\wedge (\\neg r \\vee (p\\vee q))$$ On the other hand, the\nexpressions\n\n-   $\\varphi[\\neg / p]$, which is $\\neg \\wedge (\\neg r \\vee \\neg)$, and\n\n-   $\\varphi[q / \\wedge]$, which is $p \\; q (\\neg r \\vee q)$,\n\nare not formulas. Thus, one must be careful when performing\nsubstitutions on formulas lest the resulting expressions are ill-formed.\nIn other words, conditions must be placed on $x$ and $\\psi$ in\n$\\varphi[\\psi/x]$ in order that $\\varphi[\\psi/x]$ is a (well-formed)\nformula. These conditions are called the *substitutability conditions*.\nIn this entry, we will concentrate on substitutability conditions on\npredicate logic. Details on substitions in propositional logic can be\nfound in .\n\n### Substitution in First-Order Logic {#substitution-in-first-order-logic .unnumbered}\n\nSubstitution works pretty much the same way for first-order logic as in\npropositional logic. However, the substitutability conditions are more\nsubtle. Take a look at the following example: $$\\exists x \\; (x=1)$$ If\nwe replace $x$ by $0$, we end up with $$\\exists 0 \\; (0=1),$$ which is\nnon-sensical (not a wff). This is because $x$ occurs in the formula as a\nbound variable. (one reason why we distinguish the variables occurring\nin first order formulas into two types: free and bound).\n\nWe now formalize the notion of substitution in first-order logic. There\nare two parts: substitution for terms, and substitution for formulas.\n\n**Definition**. For any term $t$, any symbol $x$, and any expression\n$s$, define $t[s/x]$ inductively, as follows:\n\n1.  if $t$ is an individual variable or a constant symbol, then $t[s/x]$\n    is $s$ if $t$ is $x$, and $t[s/x]$ is $t$ otherwise;\n\n2.  if $t$ is $f(t_1,\\ldots, t_n)$, where $f$ is an $n$-ary function\n    symbol, and each $t_i$ is a term, then $t[s/x]$ is\n    $f(t_1[s/x],\\ldots, t_n[s/x])$.\n\nFor example, if $t$ is $x+y$, then $t[(x-y)/x]$ is $(x-y)+y$.\n\nIt is easy to see that $s$ is a term and $x$ an individual variable,\nthen $t[s/x]$ is a term. In addition, by induction, one can easily show\nthat if the formula $s_1=s_2$ is true, so is the formula\n$t[s_1/x]=t[s_2/x]$.\n\nNext, we define substitution for formulas. In light of the last example\nat the beginning of this section, we need to be a little careful.\n\n**Definition**. Let $\\varphi$ be a formula, $x$ a symbol, and $s$ an\nexpression. The expression $\\varphi[s/x]$ is again define inductively:\n\n1.  if $\\varphi$ is $t_1=t_2$, then $\\varphi[s/x]$ is\n    $t_1[s/x]=t_2[s/x]$;\n\n2.  if $\\varphi$ is $R(t_1,\\ldots,t_n)$, then $\\varphi[s/x]$ is\n    $R(t_1[s/x],\\ldots, t_n[s/x])$;\n\n3.  if $\\varphi$ is $\\neg \\psi$, then $\\varphi[s/x]$ is\n    $\\neg (\\psi[s/x])$;\n\n4.  if $\\varphi$ is $\\psi \\vee \\sigma$, then $\\varphi[s/x]$ is\n    $\\psi[s/x]\\vee \\sigma[s/x]$;\n\n5.  if $\\varphi$ is $\\exists y \\psi$, then $\\varphi[s/x]$ is\n    $\\exists y (\\psi[s/x])$ if $x\\ne y$, and $\\varphi[s/x]$ is $\\varphi$\n    otherwise.\n\nAgain, substitutions involving logical connectives $\\to$, $\\wedge$, and\nthe universal quantifier $\\forall$ can be derived from the rules given\nabove.\n\nFor example, if $\\varphi$ is $\\exists x (x=y \\vee y=z)$, then\n$\\varphi[t/y]$ is $\\exists x (x=t \\vee t=z)$, whereas $\\varphi[t/x]$ is\njust $\\varphi$.\n\nGiven that $\\varphi$ is a formula, it is easy to see that if $x$ is an\nindividual variable, and $s$ is a term, then $\\varphi[s/x]$ is a\nformula.\n\nIn addition, it is easy to see that sentences are not affected by\nsubstitutions: if $\\varphi$ is a sentence, then $\\varphi[s/x]$ is just\n$\\varphi$. In other words, sentences can not be changed into formulas\nwith free variables.\n\nConversely, can a formula with free variables be changed into a sentence\nby substitution? Certainly. For example, if $\\varphi$ is\n$$\\exists x (y < x),$$ then $\\varphi[x/y]$ is $$\\exists x (x < x).$$\nAlthough syntactically correct, this is undesirable in many situations,\nparticularly when we are interested in the interpretations of these\nformulas. In the example above, we have changed $\\exists x (y < x)$,\nwhich many very well be true in many interpretations, into\n$\\exists x (x < x)$, something with a fixed meaning (and always false if\n$<$ is interpreted as the usual less than relation).\n\nThe problem with the situation described in the last paragraph arises\nbecause a free variable in $t$ becomes bound in $\\varphi[t/x]$. To\neliminate this undesirable situation, we define the notion of \u201cfree\nfor\u201d:\n\n**Definition**. Let $x$ be an individual variable, $t$ a term, and\n$\\varphi$ a formula. We define the relation *$t$ is free for, or\nsubstitutable for $x$ in $\\varphi$*, inductively, as follows:\n\n1.  $\\varphi$ is an atomic formula;\n\n2.  $\\varphi$ is $\\neg \\psi$, and $t$ is free for $x$ in $\\psi$;\n\n3.  $\\varphi$ is $\\psi \\vee \\sigma$, and $t$ is free for $x$ in $\\psi$\n    and in $\\sigma$;\n\n4.  $\\varphi$ is $\\exists y \\psi$, and either\n\n    -   $x\\notin \\operatorname{FV}(\\varphi)$ ($x$ does not occur free in\n        $\\varphi$), or\n\n    -   $y$ does not occur in $t$, and $t$ is free for $x$ in $\\psi$.\n\nIn words, $t$ is free for $x$ in $\\varphi$ iff whenever $z$ is a\nvariable in $t$, no literal subformula of $\\varphi$ of the form\n$\\exists z \\psi$ contains an occurrence of $x$ which is free in\n$\\varphi$.\n\nFor example, $f(x,y)$ is free for $x$ in the following formulas:\n$$P(x,y),\\qquad P(x)\\vee \\neg Q(z), \\qquad \\neg \\exists x \\; \\neg R(x,y), \\qquad \\mbox{and} \\qquad \\neg S(y) \\vee \\exists y T(y,z),$$\nbut not in the following formulas:\n$$\\exists y P(x,y),\\qquad Q(x)\\vee \\exists z \\exists y R(x,y), \\qquad \\mbox{and} \\qquad S(y) \\to \\forall y (T(y,y)\\wedge \\neg Q(x)).$$\n\nGiven any formula $\\varphi$, we again write $\\varphi(x)$ to mean that\nvariable $x$ occurs in $\\varphi$. A *substitution instance* of\n$\\varphi(x)$ is just $\\varphi[t/x]$, or $\\varphi(t)$ for short.\nFurthermore, if $t$ is free for $x$ in $\\varphi$, then $\\varphi(t)$ is\ncalled a *free substitution instance* of $\\varphi(x)$.\n\nIt is easy, by induction, to show that if terms $t_1$ and $t_2$ are free\nfor $x$ in $\\varphi$, and that the formula $t_1=t_2$ is true, the\nsubstitution instances $\\varphi(t_1)$ and $\\varphi(t_2)$ are logically\nequivalent, as intended.",
  "language": "INFORMAL",
  "phrase": "Substitutability",
  "remarks": "",
  "citations": [
    {
      "textCitation": "https://planetmath.org/Substitutability"
    }
  ],
  "indexable": true
}