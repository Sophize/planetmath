{
  "alternatePhrases": [
    "flock",
    "abstract coset"
  ],
  "definition": "A *heap* is a non-empty set $H$ with a ternary operation $f:H^3\\to H$,\nsuch that\n\n1.  $f(f(r,s,t),u,v)=f(r,s,f(t,u,v))$ for any $r,s,t,u,v\\in H$, and\n\n2.  $f(r,s,s)=f(s,s,r)=r$ for any $r,s\\in H$.\n\nHeaps and groups are intimately related. Every group has the structure\nof a heap:\n\nGiven a group $G$, if we define $f:G^3\\to G$ by $$f(a,b,c)=ab^{-1}c,$$\nthen $(G,f)$ is a heap, for\n$f(f(r,s,t),u,v)=(rs^{-1}t)u^{-1}v=rs^{-1}(tu^{-1}v)= f(r,s,f(t,u,v))$,\nand $f(r,s,s)=rs^{-1}s=r=ss^{-1}r=f(s,s,r)$.\n\nThe associated heap structure on a group is the associated heap of the\ngroup.\n\nConversely, every heap can be derived this way:\n\nGiven a heap $(H,f)$, then $(H,\\cdot)$ is a group for some binary\noperation $\\cdot$ on $H$, such that $f(a,b,c) = a\\cdot b^{-1} \\cdot c$.\n\nPick an arbitrary element $r\\in H$, and define a binary operation\n$\\cdot$ on $H$ by $$a\\cdot b := f(a,r,b).$$ We next show that\n$(H,\\cdot)$ is a group.\n\nFirst, $\\cdot$ is associative:\n$(a\\cdot b)\\cdot c = f(f(a,r,b),r,c) = f(a,r,f(b,r,c))= a \\cdot (b\\cdot c)$.\nThis shows that $(H,\\cdot)$ is a semigroup. Second, $r$ is an identity\nwith respect to $\\cdot$: $a\\cdot r = f(a,r,r) = a$ and\n$r\\cdot a = f(r,r,a)=a$, showing that $(H,\\cdot)$ is a monoid. Finally,\ngiven $a\\in H$, the element $b=f(r,a,r)$ is a two-sided inverse of $a$:\n$a\\cdot b = f(a,r,b)=f(a,r,f(r,a,r))=f(f(a,r,r),a,r)=f(a,a,r)=r$ and\n$b\\cdot a=f(b,r,a)= f(f(r,a,r),r,a) = f(r,a,f(r,r,a)) = f(r,a,a)=r$,\nhence $(H,\\cdot)$ is a group.\n\nFinally, by a direction computation, we see that\n$a\\cdot b^{-1} \\cdot c= a f(r,b,r) c = f(a,r,f(r,b,r))c = f(f(a,r,r),b,r)c = f(a,b,r)c = f(f(a,b,r),r,c)= f(a,b,f(r,r,c))=f(a,b,c)$.\n\nFrom the proposition above, we see that any element of $H$ can be\nchosen, so that the associated group operation turns that element into\nan identity element for the group. In other words, one can think of a\nheap as a group where the designation of a multiplicative identity is\nerased, in much the same way that an affine space is a vector space\nwithout the origin (additive identity):\n\nAn immediate corollary is the following: for any element $r$ in a heap\n$(H,f)$, the equation $$f(x,y,z)=r$$ in three variables $x,y,z$ has\nexactly one solution in the remaining variable, if two of the variables\nare replaced by elements of $H$.\n\n**Remarks**.\n\n1.  A heap is also known as a *flock*, due to its application in affine\n    geometry, or as an *abstract coset*, because, as it can be easily\n    shown, a subset $H$ of a group $G$ is a coset (of a subgroup of $G$)\n    iff it is a subheap of $G$ considered as a heap (see example above).\n\n    First, notice that we have two equations\n    $$f(ar,as,at)=af(r,s,t)\\qquad\\mbox{and}\\qquad f(ra,sa,ta)=f(r,s,t)a.$$\n    From this, we see that if $H=aK$ or $H=Ka$ for some subgroup $K$ of\n    $G$, then $f(H,H,H)\\subseteq H$, whence $H$ is a subheap of $G$. On\n    the other hand, suppose that $H$ is a subheap of $G$, and let\n    $K=\\lbrace rs^{-1}\\mid r,s\\in H\\rbrace$. We want to show that $K$ is\n    a subgroup of $G$ (and hence $H$ is a coset of $K$). Certainly\n    $e=rr^{-1}\\in K$. If $rs^{-1}\\in K$, then\n    $sr^{-1}=(rs^{-1})^{-1}\\in K$. Finally, if $rs^{-1}$ and $tu^{-1}$\n    are both in $K$, then $rs^{-1}tu^{-1} = f(r,s,t)u^{-1}$, which is in\n    $K$ because both $f(r,s,t)$ and $u$ are in $H$.\n\n2.  More generally, a structure $H$ with a ternary operation $f$\n    satisfying only condition $1$ above is known as a *heapoid*, and a\n    heapoid satisfying the condition $$f(f(r,s,t),u,v)=f(r,f(u,t,s),v)$$\n    is called a *semiheap*. Every heap is a semiheap, for, by\n    Proposition 1 above:\n    $$f(r,f(u,t,s),v)=r(ut^{-1}s)^{-1}v = rs^{-1}tu^{-1}v = f(rs^{-1}t,u,v)=f(f(r,s,t),u,v).$$\n\n3.  Let $(H,f)$ be a heap. Then $(H,f)$ is a iff $f(u,t,s)=f(s,t,u)$.\n    First, if $(H,f)$ is a $3$-group, then $f$ is associative, so\n    $f(r,f(u,t,s),v)=f(r,f(s,t,u),v)$ since a heap is a semiheap. By the\n    corollary above, we get the equation $f(u,t,s)=f(s,t,u)$. On the\n    other hand, the equation shows that $f$ is associative, and together\n    with the corollary, $(H,f)$ is a $3$-group.\n\n4.  Suppose now that $(H,f)$ is a $3$-group such that\n    $f(u,t,s)=f(s,t,u)$. Then $(H,f)$ is a heap iff $f(r,r,r)=r$ for all\n    $r\\in H$. The first condition of a heap is automatically satisfied\n    since $f$ is associative. Now, if $(H,f)$ is a heap, then\n    $f(r,r,r)=r$ by condition 2. Conversely, $f(r,s,s)=f(s,s,r)=t$ by\n    the given equation above. So\n    $f(s,t,s)=f(s,f(r,s,s),s)=f(s,r,f(s,s,s))=f(s,r,s)$. As a $3$-group,\n    it has a covering group, so $t=r$ as a result.\n\n[0]{} R. H. Bruck, [*A Survey of Binary Systems*]{}, Springer-Verlag,\n1966 H. Pr\u00fcfer, [*Theorie der Abelschen Gruppen*]{}, Math. Z. 20,\n166-187, 1924",
  "language": "INFORMAL",
  "phrase": "Heap",
  "remarks": "",
  "citations": [
    {
      "textCitation": "https://planetmath.org/Heap1"
    }
  ],
  "indexable": true
}